<!DOCTYPE html>
<html>
<body>

<title>Modbus RTU2TCP Configuration</title>
<h2>Modbus RTU2TCP Configuration</h2>

<form action="http://10.1.10.1/echo" method="POST">
  <label for="ssid">First name:</label><br>
  <input type="text" id="ssid" name="ssid" value="John" required><br>
  <label for="lname">Last name:</label><br>
  <input type="text" id="wifipass" name="wifipass" value="Doe"><br><br>
  <input type="submit" value="Submit">
</form> 

<button onclick="applySettings()">Try it</button>

<p>2If you click the "Submit" button, the form-data will be sent to a page called "/action_page.php".</p>

<form action="/restart?confirm=yes">
	<input type="submit" value="Restart" /><br>
	<input type="checkbox" id="confirm" name="confirm" value="yes">Confirm restart</input>
</form>

<div id="demo">
QwQ
</div>

<script>
function formatParams( params ){
	return "?" + Object
		.keys(params)
		.map(function(key){
			return key+"="+encodeURIComponent(params[key])
		})
		.join("&");
}

function applySettings() {
	var ssid = document.getElementById("ssid").value;
	var wifipass = document.getElementById("wifipass").value;

	var params = {};
	["ssid", "wifipass"].forEach(function(key) {
		params[key] = document.getElementById(key).value;
	});
	var reqUrl = "/" + formatParams(params);
	console.log("reqUrl = "+reqUrl);

	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			document.getElementById("demo").innerHTML = xhttp.responseText;
		}
	};
	xhttp.open("GET", reqUrl, true);
	xhttp.send();
}
</script>

</body>
</html>